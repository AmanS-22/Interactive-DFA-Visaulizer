:root{
  --bg: #f6f8fb;
  --panel: #ffffff;
  --accent: #2563eb;
  --muted: #6b7280;
  --danger: #ef4444;
}

*{box-sizing:border-box}
body{margin:0;font-family:Inter,Segoe UI,Arial,sans-serif;background:var(--bg);color:#0f172a}
.container{max-width:1100px;margin:20px auto;padding:12px}
.header h1{margin:0;font-size:20px}
.panel{background:var(--panel);padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(15,23,42,0.06);margin-top:12px}
.inputs .row{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.inputs label{display:flex;flex-direction:column;font-size:13px;color:var(--muted);flex:1}
.inputs input,.inputs textarea{margin-top:6px;padding:8px;border-radius:8px;border:1px solid #e6eef8;background:#fbfdff}
.inputs textarea{min-height:80px;resize:vertical}
.actions{align-items:center}
button{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
button:hover{filter:brightness(1.05);box-shadow:0 6px 12px rgba(37,99,235,0.12)}
button[disabled]{opacity:0.6;cursor:not-allowed}
.diagram-panel{height:420px;display:flex;align-items:stretch;overflow:hidden}
.diagram{flex:1;border-radius:8px;border:1px dashed #e6eef8;background:linear-gradient(180deg,#fff,#f8fbff);position:relative}
.state{position:absolute;width:64px;height:64px;border-radius:50%;background:linear-gradient(180deg,#ffffff,#eef4ff);display:flex;align-items:center;justify-content:center;border:2px solid #dbeafe;box-shadow:0 8px 20px rgba(15,23,42,0.06);cursor:grab}
.state:active{cursor:grabbing}
.state .name{font-weight:600}
.state.final{box-shadow:0 0 0 4px rgba(37,99,235,0.06), inset 0 -6px 10px rgba(0,0,0,0.03)}
.controls{display:flex;gap:8px}
.table-panel table{width:100%;border-collapse:collapse;border-radius:8px;overflow:hidden}
.table-panel thead th{background:#f3f4f6;color:#111;padding:10px;text-align:left;font-weight:600}
.table-panel th,.table-panel td{padding:10px;border-bottom:1px solid #eef2ff;text-align:left}
.table-panel tbody tr td:first-child{width:160px}
.error{color:var(--danger);background:#fff1f2;padding:8px;border-radius:6px;border:1px solid #fee2e2}
.hidden{display:none}
.svg-overlay{position:absolute;inset:0;pointer-events:none}
.label-text{font-size:12px;fill:#0f172a;stroke:#fff;stroke-width:3;paint-order:stroke;stroke-linejoin:round}
.label-text.foreground{stroke:none;fill:#0f172a}
.arrow{stroke:#334155;stroke-width:2;fill:none}
.arrow.epsilon{stroke-dasharray:6 4}

/* final state double ring */
.state.final::after{content:'';position:absolute;inset:8px;border-radius:50%;border:3px solid rgba(37,99,235,0.25);pointer-events:none}

/* start arrow indicator */
.state.start::before{content:'â–¶';position:absolute;left:-14px;top:50%;transform:translateY(-50%);font-size:12px;color:var(--accent);opacity:0.95}
